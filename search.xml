<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/posts/0.html"/>
      <url>/posts/0.html</url>
      
        <content type="html"><![CDATA[<h2 id="Servlet简介"><a href="#Servlet简介" class="headerlink" title="Servlet简介"></a>Servlet简介</h2><p><strong>概念:</strong> Servlet（Server Applet）是用Java编写的服务器端程序。其主要功能在于交互式地浏览和修改数据，生成动态Web内容。狭义的Servlet是指Java语言实现的一个<strong>接口</strong>，广义的Servlet是指任何<strong>实现了这个Servlet接口的类</strong>。</p><p><strong>四个抽象方法:</strong><br><strong>生命周期:</strong></p><ol><li><strong>init()</strong>: 默认情况下:当Servlet第一次被请求时，Servlet容器就会开始调用这个方法来初始化一个Servlet对象出来，且后续请求中不会在被Servlet容器调用,只可调用一次;可通过改变loadOnStartUp的属性来改变.</li><li><strong>service()</strong>: 每当请求Servlet时，Servlet容器就会调用这个方法。第一次请求时，Servlet容器会先调用init()方法初始化一个Servlet对象出来，然后会调用它的service()方法进行工作，但在后续的请求中，Servlet容器只会调用service方法了。</li><li><strong>destory()</strong>: 当需要释放内存或者关闭容器时,容器就会调用该方法完成资源释放(<font color=red>在idea的tomcat中若点击红色的中止键不会执行该方法(强制关闭),需要在终端操作才能看到效果)</font></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript的学习</title>
      <link href="/posts/4.html"/>
      <url>/posts/4.html</url>
      
        <content type="html"><![CDATA[<h2 id="JavaScript的引入"><a href="#JavaScript的引入" class="headerlink" title="JavaScript的引入"></a>JavaScript的引入</h2><ol><li><p><strong>内部脚本引入:</strong> 将js代码定义到html页面中，且JavaScript代码必须位于&lt;script&gt;与&lt;&#x2F;script&gt;标签之间,&lt;script&gt;位可放于html任何位置，但一般放于&lt;body&gt;元素底部<br> 例子:</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alert</span>(<span class="string">&quot;hello js&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>外部脚本引入:</strong> 于&lt;script&gt;尖括号内填写src地址即可</p></li></ol><h2 id="JavaScript基础语法"><a href="#JavaScript基础语法" class="headerlink" title="JavaScript基础语法"></a>JavaScript基础语法</h2><ul><li><strong>书写语法:</strong> 同java一样,但分号;可写可不写</li><li><strong>输出语句:</strong> <ul><li>写入(弹出)警告框: <code>alert()</code></li><li>写入至html页面: <code>document.write()</code></li><li>写入浏览器的控制台: <code>console.log()</code></li></ul></li><li><strong>变量定义:</strong> JavaScript有三种关键词用于定义变量，所定义的变量可存放不同类型的值,其余与java一致;var定义的变量为全局变量,且变量可以重复定义(变量名可一致); let定义的变量为局部变量,只在函数内生效,不可重复定义; const用于声明常量,声明后不可更改</li><li><strong>数据类型:</strong><ul><li>基本数据类型:number,string,boolean,null,undefined(变量未初始化则为此类型)</li><li>引用数据类型:</li></ul></li><li><strong>流程控制语句:</strong> 同java一致</li><li><strong>函数(方法):</strong> <ul><li>定义：通过function关键词定义</li><li>语法:形参不需要指定类型,返回值也不需要定义类型，可直接return返回<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="keyword">function</span><span class="constructor">Name(参数1,参数2..)</span>&#123;</span><br><span class="line">    具体代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>调用:调用时可以传递任意个参数(可与函数形数个数不一致),但最终生效的个数与函数形参一致,多的不参与,少的被NaN补充</li></ul></li></ul><h2 id="JavaScript的对象-常用-具体查阅资料"><a href="#JavaScript的对象-常用-具体查阅资料" class="headerlink" title="JavaScript的对象(常用,具体查阅资料)"></a>JavaScript的对象(常用,具体查阅资料)</h2><h3 id="数组-Array"><a href="#数组-Array" class="headerlink" title="数组:Array"></a>数组:Array</h3><p><i>相当于java的列表,可变长变类型</i></p><ul><li>定义方式: <ol><li>方式一:<code>var 变量名=new Array(元素列表)</code> 例:<code>var arr=new Array(1,2,3)</code></li><li>方式二(更常用):<code>var 变量名=[元素列表]</code> 例: <code>var arr=[1,2,3]</code></li></ol></li><li>访问方式: 与java一致</li><li>方法: 添加:push() 删除:splice(删除起点,删除个数) 等等</li></ul><h3 id="字符串-String"><a href="#字符串-String" class="headerlink" title="字符串:String"></a>字符串:String</h3><ul><li>定义方式:<ol><li>方式一:<code>var 变量名=new String(s)</code></li><li>方式二(更常用):<code>var 变量名=s</code><br>  <font color="red">特别的:该对象不区分双引号””和单引号’’,效果一致</font></li></ol></li><li>方法: 去除字符串前后两端空格:trim()  等等</li></ul><h3 id="自定义对象"><a href="#自定义对象" class="headerlink" title="自定义对象"></a>自定义对象</h3><ul><li>定义方式:<figure class="highlight wren"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 对象名称<span class="operator">=</span>&#123;</span><br><span class="line">    属性名称<span class="number">1</span>:属性值<span class="number">1</span>,</span><br><span class="line">    属性名称<span class="number">2</span>:属性值<span class="number">2</span>,</span><br><span class="line">    函数名称:<span class="title function_">function</span>(形参)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>例:<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student=&#123;</span><br><span class="line">    name:<span class="string">&quot;liangke&quot;</span>,</span><br><span class="line">    age:<span class="number">20</span>,</span><br><span class="line">    eat:<span class="keyword">function</span><span class="params">()</span>&#123;</span><br><span class="line">        alert(<span class="string">&quot;能吃三碗饭&quot;</span>)</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a>BOM对象</h3><ul><li>组成:<ul><li>Window: 浏览器窗口对象</li><li>Navigator: 浏览器对象</li><li>Screen: 屏幕对象</li><li>History: 历史记录对象</li><li>Location: 地址栏对象</li></ul></li></ul><h4 id="Window浏览器窗口对象"><a href="#Window浏览器窗口对象" class="headerlink" title="Window浏览器窗口对象"></a>Window浏览器窗口对象</h4><ul><li>获取:使用window,其中window.可省略</li><li>方法：<ul><li>alert(): 显示一段含信息和确认按钮的警告框</li><li>confirm(): 显示一段含信息和确认按钮和取消安妮的对话框</li><li>setInterval(function(){},毫秒值): 按照指定周期来循环调用函数或计算表达式</li><li>setTimeout(function(){},毫秒值): 在指定的毫秒数后调用函数或计算表达式</li></ul></li></ul><h4 id="History对象"><a href="#History对象" class="headerlink" title="History对象"></a>History对象</h4><ul><li>获取: history.方法()</li><li>方法: <ul><li>back() 加载history列表中的上一个url(返回上一步)</li><li>forward() 加载history列表中的下一个url(返回下一步)</li></ul></li></ul><h4 id="Location对象"><a href="#Location对象" class="headerlink" title="Location对象"></a>Location对象</h4><ul><li>获取:location.方法()</li><li>属性:href 设置或者是返回完整的url<br>eg:<code>设置url: location.href=&quot;www.baidu.com</code></li></ul><h3 id="DOM对象"><a href="#DOM对象" class="headerlink" title="DOM对象"></a>DOM对象</h3><p><i><font color="red">注: 此处学习的是HTMLDOM</font></i></p><ul><li>作用:通过DOM对HTML操作</li></ul><h4 id="获取Element元素对象"><a href="#获取Element元素对象" class="headerlink" title="获取Element元素对象"></a>获取Element元素对象</h4><ul><li>获取: 使用Document对象的方法进行获取<ol><li>getElementById: 根据id属性值获取,返回一个Element对象</li><li>getElementByTagName: 根据标签名称获取,返回Element对象数组</li><li>getElementByName: 根据name属性值获取,返回Element对象数组</li><li>getElementByClassName: 根据class属性值获取,返回Element对象数组</li></ol></li></ul><h4 id="常见HTMLElement对象的使用"><a href="#常见HTMLElement对象的使用" class="headerlink" title="常见HTMLElement对象的使用"></a>常见HTMLElement对象的使用</h4><p><strong>使用时查询JavaScript使用手册,查文档来完成操作</strong></p><h2 id="事件监听"><a href="#事件监听" class="headerlink" title="事件监听"></a>事件监听</h2><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><p><strong>使用方法:</strong> </p><ul><li><p>通过html标签中的事件属性进行绑定(不推荐)</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;按钮1&quot;</span> onclick=<span class="string">&quot;on()&quot;</span>&gt;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">on</span><span class="params">()</span></span>&#123;&#125; </span><br></pre></td></tr></table></figure></li><li><p>通过DOM元素属性绑定</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">于html:&lt;input <span class="attribute">type</span>=<span class="string">&quot;button&quot;</span> <span class="attribute">value</span>=<span class="string">&quot;按钮2&quot;</span> <span class="attribute">id</span>=<span class="string">&quot;btn&quot;</span>&gt; </span><br><span class="line">于js:document.getElementById(<span class="string">&quot;btn&quot;</span>).<span class="attribute">onclick</span>=function()&#123;&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>常见事件:</strong></p><table><thead><tr><th>事件名</th><th>说明</th></tr></thead><tbody><tr><td>onclick</td><td>鼠标点击事件</td></tr><tr><td>onblur</td><td>元素失去焦点</td></tr><tr><td>onfocus</td><td>元素获得焦点</td></tr><tr><td>onload</td><td>某个页面或图像被完全加载</td></tr><tr><td>onsubmit</td><td>当表单提交时触发该事件</td></tr><tr><td>onkeydown</td><td>某个键盘的键被按下</td></tr><tr><td>onmouseover</td><td>鼠标被移动到某个元素之上</td></tr><tr><td>onmouseout</td><td>鼠标从某个元素之上移开</td></tr></tbody></table><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p><strong>概念:</strong> 正则表达式定义了字符串的组成规则<br><strong>定义:</strong> var reg&#x3D;&#x2F;^$&#x2F;;<br><strong>方法:</strong> </p><ul><li>test(str): 判断指定的字符串是否符合规则,返回true或false</li></ul><p><strong>语法:</strong><br><font color ="red">正则表达式的语法随用随查即可<br>链接:<a href="http://t.csdn.cn/eVo0P">http://t.csdn.cn/eVo0P</a></font></p><table><thead><tr><th>字符</th><th>含义</th></tr></thead><tbody><tr><td>^</td><td>表示开始</td></tr><tr><td>$</td><td>表示结束</td></tr><tr><td>[]</td><td>表示匹配其中任意一个字符,比如[56]表示必须是5或6其中一个</td></tr><tr><td>.</td><td>匹配除换行符以外的任意字符</td></tr><tr><td>\w</td><td>匹配字母或数字或下划线或汉字</td></tr><tr><td>\s</td><td>匹配任意的空白符</td></tr><tr><td>\d</td><td>匹配数字,相当于[0-9]</td></tr><tr><td>+</td><td>表示至少存在1个</td></tr><tr><td>*</td><td>表示存在0个或多个</td></tr><tr><td>?</td><td>表示存在0个或1个</td></tr><tr><td>{x}</td><td>x个</td></tr><tr><td>{m,}</td><td>至少m个</td></tr><tr><td>{m,n}</td><td>至少m个，最多n个</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>html的学习</title>
      <link href="/posts/3.html"/>
      <url>/posts/3.html</url>
      
        <content type="html"><![CDATA[<p><strong>内心os:</strong> 原来markdown支持html语法的嘛，早说啊，为什么不早说啊，是啊，为什么不早说啊55555</p><h2 id="html的结构"><a href="#html的结构" class="headerlink" title="html的结构"></a>html的结构</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span> ---html的头部，提供辅助信息(页面标题，编码格式，网页关键字和描述信息等)</span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span> ---html的标题</span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span> ---html的页面主要元素</span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="html常见标签"><a href="#html常见标签" class="headerlink" title="html常见标签"></a>html常见标签</h2><h3 id="文本标签"><a href="#文本标签" class="headerlink" title="文本标签"></a>文本标签</h3><p><strong>标题标签:</strong> &lt;h1&gt;,&lt;h2&gt;,&lt;h3&gt;,&lt;h4&gt;,&lt;h5&gt;,&lt;h6&gt;,分别对应六种标题大小<br><strong>水平分割线:</strong> &lt;hr&gt;,该标签不需要包裹<br><strong>段落标签:</strong> &lt;p&gt;,自动换行，设置默认的行间距即字体;&lt;br&gt;,换行,行间距比&lt;p&gt;小<br><strong>原样输出:</strong> &lt;pre&gt; 保留文本中的空格\t,\r的效果<br><strong>加粗，斜体，下划线:</strong> &lt;b&gt;为加粗， &lt;i&gt;为斜体, &lt;u&gt;为下划线<br><strong>字体:</strong> &lt;font&gt; 标签内元素:face&#x3D;” “,size&#x3D;” “,color&#x3D;” “，含义依次为字体，大小和颜色 <font color="red">(不建议于html中使用，转移到css中使用更为方便，可读性也更高) </font></p><h3 id="图片音频视频标签"><a href="#图片音频视频标签" class="headerlink" title="图片音频视频标签"></a>图片音频视频标签</h3><p><strong>图片:</strong> &lt;img&gt;标签，内部有三个元素: src:规定显示图像的url路径, height:定义图像的高度, width:定义图像的宽度<br><strong>音频:</strong> &lt;audio&gt;标签，支持mp3,wav,ogg，内部有两个元素: src:规定音频的url路径, controls:显示播放按钮<br><strong>视频:</strong> &lt;video&gt;标签,支持mp4,webM,ogg，内部有两个元素: src:规定视频的url路径, controls:显示播放按钮<br><strong>src:</strong> 用绝对路径或相对路径来表示，其中绝对路径指的是完整路径，可用盘符完整路径或者网址表示，而相对路径则是资源文件与html文件的相对路径,其中：<br>&#x2F; 基准所在的最顶级目录即根目录，根目录是相对于其他子目录来说的<br>.&#x2F; 基准所在的当前目录<br>..&#x2F; 基准所在的当前目录的上一级目录（当前目录的父级目录）<br>eg:<img src="https://img-blog.csdnimg.cn/20190712131957663.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDY2MDQwOA==,size_16,color_FFFFFF,t_70"><br>假设trade是根目录:</p><ol><li>基准a.html访问当前目录下img文件夹中的图片<br>src &#x3D; .&#x2F;img&#x2F;a.jpg 或者 src &#x3D; img&#x2F;a.jpg ，img默认是当前目录下的img文件夹，.&#x2F;代表目录log</li><li>基准a.html访问上一级目录下img文件夹中的图片<br>src &#x3D; ..&#x2F;img&#x2F;b.jpg，..&#x2F;代表目录parameter</li><li>基准a.html访问根目录下img文件夹中的图片<br>src &#x3D; &#x2F;img&#x2F;c.jpg 或者 src &#x3D; ..&#x2F;..&#x2F;img&#x2F;c.jpg， &#x2F; 代表根目录trade，..&#x2F;..&#x2F;代表基准的上级目录parameter 的 上级目录trade，即根目录</li></ol><h3 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h3><p><strong>标签:</strong> &lt;a&gt;，定义超链接，用于连接到另一个资源，参数: href:指定访问资源的url, target:指定打开资源的方式<br><strong>target参数:</strong> _self：默认值，在当前页面打开; _blank:新开一页，于空白页面打开 </p><h3 id="列表标签"><a href="#列表标签" class="headerlink" title="列表标签"></a>列表标签</h3><p><strong>有序列表:</strong> ol中的元素： start：规定有序列表的起始值, type：规定在列表中使用的标记类型, reversed: 规定列表顺序为降序(<font color="red">不建议使用这些参数，于css修改更好</font>)<br>格式:<br>&lt;ol&gt;<br>&lt;li&gt;…&lt;&#x2F;li&gt;<br>&lt;li&gt;…&lt;&#x2F;li&gt;<br>&lt;&#x2F;ol&gt;</p><p><strong>无序列表:</strong><br>&lt;ul&gt;<br>&lt;li&gt;…&lt;&#x2F;li&gt;<br>&lt;li&gt;…&lt;&#x2F;li&gt;<br>&lt;&#x2F;ul&gt;</p><p><strong>自定义列表:</strong><br>&lt;dl&gt;<br>&lt;dt&gt;…&lt;&#x2F;dt&gt;<br>&lt;dd&gt;…&lt;&#x2F;dd&gt; –归属于上面的dt<br>&lt;&#x2F;dl&gt;</p><h3 id="表格标签"><a href="#表格标签" class="headerlink" title="表格标签"></a>表格标签</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span>&gt;</span>  <span class="comment">&lt;!--table为表格起始标签,参数width表示表格宽度，</span></span><br><span class="line"><span class="comment">可用百分比或者数值px表示，参数border表示网格线,参数cellspacing表示网格线合并--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>成员内容<span class="tag">&lt;/<span class="name">caption</span>&gt;</span> <span class="comment">&lt;!--表的标题，不一定要有--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span> <span class="comment">&lt;!--tr为每一行内容，有几个tr就有几行,align表示文字对齐方式--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span> <span class="comment">&lt;!--th为表头名字,有几个th就有几列--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>合并单元格测试<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="comment">&lt;!--td表示内容，有几个td就有几列--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>男<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>合并列<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>李四<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>女<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>25<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>合并行<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>王五<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>男<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>30<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果展示:<img src="https://img-blog.csdnimg.cn/2d4ba4f7f8a047b8bf32b4b031b7d384.png"></p><h3 id="表单标签"><a href="#表单标签" class="headerlink" title="表单标签"></a>表单标签</h3><p><strong>定义表单:</strong> &lt;form&gt;<br><strong>form的参数:</strong></p><ul><li>action:用于指定表单数据提交的url，若表单数据想要被提交，则必须指定它的name属性</li><li>method: 指定表单提交的方式,可选择两种方式：<ol><li>get:表示默认值,则请求参数会拼接在url后边，存在长度限制(url长度限制4kb) </li><li>post: 请求参数会在http请求协议的请求体中,参数长度无限制</li></ol></li></ul><p><strong>&lt;input&gt;标签:</strong> 表单项，通过type属性控制输入形式</p><table><thead><tr><th>type取值</th><th>描述</th></tr></thead><tbody><tr><td>text</td><td>默认值,定义单行的输入字段</td></tr><tr><td>password</td><td>定义密码字符</td></tr><tr><td>radio</td><td>定义单选按钮</td></tr><tr><td>checkbox</td><td>定义复选框</td></tr><tr><td>file</td><td>定义文件上传按钮</td></tr><tr><td>hidden</td><td>定义隐藏的输入字段</td></tr><tr><td>submit</td><td>定义提交按钮，提交按钮会把表单数据发送到服务器</td></tr><tr><td>reset</td><td>定义重置按钮，重置按钮会清除表单中所有的数据</td></tr><tr><td>button</td><td>定义可点击的按钮</td></tr></tbody></table><p>示例：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">hidden</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;01&quot;</span>&gt;</span> <span class="comment">&lt;!-- 上传id,此处为隐藏值，不展示给用户看--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>用户名:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>   <span class="comment">&lt;!--label的作用为点击文本跳转到输入框--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>密码： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    性别:</span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    所来自城市:</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;city&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;beijing&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shanghai&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;guangzhou&quot;</span>&gt;</span>广州<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    爱好：</span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;swimming&quot;</span>&gt;</span>游泳<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;running&quot;</span>&gt;</span>跑步<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dancing&quot;</span>&gt;</span>跳舞<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    证明材料: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    自我介绍：<span class="tag">&lt;<span class="name">textarea</span> <span class="attr">rows</span>=<span class="string">&quot;5&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;20&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;注册&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果展示:<img src="https://img-blog.csdnimg.cn/2c54d2819e6f42b1827cfc3d5d5ad43c.png"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mybatis的学习</title>
      <link href="/posts/2.html"/>
      <url>/posts/2.html</url>
      
        <content type="html"><![CDATA[<h2 id="使用软编码的好处"><a href="#使用软编码的好处" class="headerlink" title="- 使用软编码的好处"></a>- 使用软编码的好处</h2><p><strong>硬编码:</strong> 将数据直接写入代码进行编译开发,若发生需要更改的问题,就需要更改源代码<br><strong>软编码:</strong> 将数据与源代码解耦(分开处理), mybatis将sql于底层代码分离, 后期维护修改更为方便</p><h2 id="mybatis入门使用"><a href="#mybatis入门使用" class="headerlink" title="- mybatis入门使用"></a>- mybatis入门使用</h2><p><strong>流程：</strong><br>    - 定义pojo类(xxxx.pojo.类名)<br>    - 加载核心配置文件,获取SqlSessionFactory对象<br>    - 获取SqlSession对象,执行sql语句<br>    - 释放资源</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 加载mybatis核心配置文件,获取SqlSessionFactory</span></span><br><span class="line">String resource =<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">InputStream inputStream = <span class="module-access"><span class="module"><span class="identifier">Resources</span>.</span></span>get<span class="constructor">ResourceAsStream(<span class="params">resource</span>)</span>;</span><br><span class="line">SqlSessionFactory sqlSessionFactory =<span class="keyword">new</span> <span class="constructor">SqlSessionFactoryBuilder()</span>.build(inputStream);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2. 获取SqlSession对象,用它来执行sql</span></span><br><span class="line">SqlSession sqlSession =sqlSessionFactory.<span class="keyword">open</span><span class="constructor">Session()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3. 执行sql</span></span><br><span class="line">List&lt;students&gt; students =sqlSession.select<span class="constructor">List(<span class="string">&quot;test.selectAll&quot;</span>)</span>;<span class="comment">//内容为名称空间.id,来源自对应编写的Mapper.xml文件</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(students);</span><br><span class="line"></span><br><span class="line"><span class="comment">//4. 释放资源</span></span><br><span class="line">sqlSession.close<span class="literal">()</span>;</span><br></pre></td></tr></table></figure><h2 id="Mapper代理"><a href="#Mapper代理" class="headerlink" title="- Mapper代理"></a>- Mapper代理</h2><p><strong>目的:</strong> 解决原生方式中的硬编码(入门代码第3步); 简化后期执行sql<br><strong>步骤:</strong> </p><ol><li>定义与sql映射文件同名的Mapper接口,并将Mapper接口与sql映射文件置于同一目录下</li><li>设置sql映射文件的namespace属性为Mapper接口全限定名</li><li>在Mapper接口中定义方法,方法名就是sql映射文件中sql语句的id,并保持参数类型和返回值类型一致</li><li>编码：通过SqlSession的getMapper方法获取Mapper接口的代理对象; 调用对应方法完成sql的执行</li></ol><p><strong>包扫描:</strong>  若Mapper接口名称与SQL映射文件名称相同,且在同一目录下,可使用包扫描的方式简化sql映射文件加载,即同一个包的文件只需要于mybatis-config.xml中输入以下代码,就无需在一条条加载映射文件:<code> &lt;package name=&quot;包路径&quot;/&gt;</code></p><p>eg:用Mapper代理实现查询全部数据操作</p><ol><li><p>mapper接口书写:<code>List&lt;students&gt; selectAll();</code></p></li><li><p>xml处书写:</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;mapper <span class="keyword">namespace</span>=<span class="string">&quot;myTest.mapper.testDemoMapper&quot;</span>&gt;</span><br><span class="line">    &lt;<span class="keyword">select</span> id=<span class="string">&quot;selectAll&quot;</span> resultType=<span class="string">&quot;myTest.pojo.students&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">select</span> * <span class="keyword">from</span> studentsinformation;</span><br><span class="line">    &lt;/<span class="keyword">select</span>&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure></li><li><p>测试用例处书写:</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 加载mybatis核心配置文件，获取SqlSessionFactory</span></span><br><span class="line">String resource =<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">inputStream inputStream = <span class="module-access"><span class="module"><span class="identifier">Resources</span>.</span></span>get<span class="constructor">ResourceAsStream(<span class="params">resource</span>)</span>;</span><br><span class="line">SqlSessionFactory sqlSessionFactory =<span class="keyword">new</span> <span class="constructor">SqlSessionFactoryBuilder()</span>.build(inputStream);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2. 获取SqlSession对象，用它来执行sql</span></span><br><span class="line">SqlSession sqlSession =sqlSessionFactory.<span class="keyword">open</span><span class="constructor">Session()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3. 获取Mapper接口的代理对象并执行</span></span><br><span class="line">testDemoMapper testDemoMapper =sqlSession.get<span class="constructor">Mapper(<span class="params">testDemoMapper</span>.<span class="params">class</span>)</span>;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//4.执行方法</span></span><br><span class="line">List&lt;students&gt; students =testDemoMapper.select<span class="constructor">All()</span>;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(students);</span><br><span class="line"></span><br><span class="line"><span class="comment">//5. 释放资源</span></span><br><span class="line">sqlSession.close<span class="literal">()</span>;</span><br></pre></td></tr></table></figure></li></ol><h2 id="mybatis的参数占位符"><a href="#mybatis的参数占位符" class="headerlink" title="- mybatis的参数占位符"></a>- mybatis的参数占位符</h2><ul><li>#{} :会将此处替换为? 防止sql注入</li><li>${} :拼接sql语句 会存在sql注入问题</li><li>使用时机: 参数传递的时候使用#{}; 表名或列名不固定时使用${}</li></ul><h2 id="使用mybatis进行增删改查"><a href="#使用mybatis进行增删改查" class="headerlink" title="- 使用mybatis进行增删改查"></a>- 使用mybatis进行增删改查</h2><h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><p><strong>注:</strong> 使用模糊查询时需在测试类中进行数据处理，如:  <code> name=&quot;%&quot;+name+&quot;%&quot;;</code></p><ul><li><p><strong>多条件查询:</strong> </p><ul><li><p><strong>于mapper接口的参数接收:</strong> </p><ol><li>散装参数：如果方法中存在多个参数,需要使用@Param(“sql参数占位符名称)置于数据类型前</li><li>实体类封装参数: 需要保证sql中的参数名和实体类属性名对应</li><li>map集合: 需要保证sql中的参数和map集合的键名对应</li></ol></li><li><p><strong>于xml文件中sql语句的书写:</strong><br>eg: </p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span> id=&quot;selectAll&quot; resultType=&quot;myTest.pojo.students&quot;&gt;</span><br><span class="line">    <span class="keyword">select</span> * <span class="keyword">from</span> studentsinformation <span class="keyword">where</span> nums = #&#123;nums&#125; <span class="keyword">and</span> <span class="type">name</span> <span class="keyword">like</span> #&#123;<span class="type">name</span>&#125; </span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>存在问题:</strong> 当用户输入的参数个数与sql语句参数个数不一致时会导致查询失败</p></li></ul></li><li><p><strong>多条件动态查询:</strong></p><ul><li><strong>目的:</strong> 为了解决普通多条件查询中用户输入参数个数与sql语句参数个数不一致造成的查询失败</li><li><strong>于xml文件中sql语句的书写:</strong> &lt;if&gt;，用于判断参数是否有值,使用test属性进行条件判断,使用时配合&lt;where&gt;标签替换where关键词<br>eg: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;select <span class="built_in">id</span>=<span class="string">&quot;selectByCondition&quot;</span> resultType=<span class="string">&quot;myTest.pojo.students&quot;</span>&gt;</span><br><span class="line">  select * from studentsinformation</span><br><span class="line">    &lt;<span class="built_in">where</span>&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;statement !=null&quot;</span>&gt;</span><br><span class="line">            and statement =<span class="comment">#&#123;statement&#125;</span></span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;nums !=null&quot;</span>&gt;</span><br><span class="line">            and nums =<span class="comment">#&#123;nums&#125;</span></span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;name != null and name !=&#x27;&#x27; &quot;</span>&gt;</span><br><span class="line">            and name =<span class="comment">#&#123;name&#125;</span></span><br><span class="line">        &lt;/if&gt;</span><br><span class="line">    &lt;/where&gt;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>单条件动态查询</strong></p><ul><li><strong>目的:</strong> 当用户从多个条件中选择一个时，根据该条件输出对应内容</li><li><strong>于xml文件中的书写:</strong> &lt;choose&gt;(&lt;when&gt;,&lt;otherwise&gt;)选择,&lt;choose&gt;类似于java的switch,&lt;when&gt;类似case,&lt;otherwise&gt;类似default,一般用&lt;where&gt;标签包裹语句而不单独写&lt;default&gt;<br>eg:<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span> id=&quot;selectByConditionSinger&quot; resultType=&quot;myTest.pojo.students&quot;&gt;</span><br><span class="line">    <span class="keyword">select</span> * <span class="keyword">from</span> studentsinformation</span><br><span class="line">    &lt;<span class="keyword">where</span>&gt;</span><br><span class="line">        &lt;choose&gt;</span><br><span class="line">            &lt;<span class="keyword">when</span> test=&quot;nums !=null&quot;&gt;</span><br><span class="line">                nums =#&#123;nums&#125;</span><br><span class="line">            &lt;/<span class="keyword">when</span>&gt;</span><br><span class="line">            &lt;<span class="keyword">when</span> test=&quot;name !=null and name!=&#x27;&#x27; &quot;&gt;</span><br><span class="line">                <span class="type">name</span> =#&#123;<span class="type">name</span>&#125;</span><br><span class="line">            &lt;/<span class="keyword">when</span>&gt;</span><br><span class="line">            &lt;<span class="keyword">when</span> test=&quot;statement !=null&quot;&gt;</span><br><span class="line">                <span class="keyword">statement</span> =#&#123;<span class="keyword">statement</span>&#125;</span><br><span class="line">            &lt;/<span class="keyword">when</span>&gt;</span><br><span class="line">        &lt;/choose&gt;</span><br><span class="line">    &lt;/<span class="keyword">where</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h3><ul><li><strong>于mapper接口:</strong> void返回,参数值为实体类对象,添加成功与否于测试类中用异常判断,语句写完后需执行sqlSession.commit()提交,因为mybatis默认关闭了事务自动提交,需手动提交,否则会回滚事务,且主键自增1</li><li><strong>于xml文件中的书写:</strong> 无需填写主键,主键由系统自增长生成<br>  eg:  <figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;add&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;nums&quot;</span>&gt;</span>  <span class="comment">&lt;!-- useGeneratedKeys=&quot;true&quot; keyProperty=&quot;nums&quot;决定了主键的值能够返回,一定要填写,由mybatisX生成的语句不自带该参数 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    insert into studentsinformation(name, sex, birth, score, email, phone, statement)</span></span><br><span class="line"><span class="language-xml">    values(#</span><span class="template-variable">&#123;name&#125;</span><span class="language-xml">,#</span><span class="template-variable">&#123;sex&#125;</span><span class="language-xml">,#</span><span class="template-variable">&#123;birth&#125;</span><span class="language-xml">,#</span><span class="template-variable">&#123;score&#125;</span><span class="language-xml">,#</span><span class="template-variable">&#123;email&#125;</span><span class="language-xml">,#</span><span class="template-variable">&#123;phone&#125;</span><span class="language-xml">,#</span><span class="template-variable">&#123;statement&#125;</span><span class="language-xml">);</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li></ul><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><ul><li><strong>修改全部字段</strong><ul><li><p><strong>于mapper接口:</strong> void返回,参数值为实体类对象,修改成功与否于测试类中用异常判断,语句写完后需执行sqlSession.commit()提交,因为mybatis默认关闭了事务自动提交,需手动提交,否则会回滚事务</p></li><li><p><strong>于xml文件中的书写:</strong> 根据主键id,来修改对应内容<br>eg:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;update <span class="built_in">id</span>=<span class="string">&quot;update&quot;</span>&gt;</span><br><span class="line">    update studentsinformation</span><br><span class="line">    <span class="built_in">set</span> name=<span class="comment">#&#123;name&#125;,</span></span><br><span class="line">    sex=<span class="comment">#&#123;sex&#125;,</span></span><br><span class="line">    birth=<span class="comment">#&#123;birth&#125;,</span></span><br><span class="line">    score=<span class="comment">#&#123;score&#125;,</span></span><br><span class="line">    email=<span class="comment">#&#123;email&#125;,</span></span><br><span class="line">    phone=<span class="comment">#&#123;phone&#125;,</span></span><br><span class="line">    statement=<span class="comment">#&#123;statement&#125;</span></span><br><span class="line">    <span class="built_in">where</span> nums=<span class="comment">#&#123;nums&#125;;</span></span><br><span class="line">&lt;/update&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>存在问题:</strong> 当用户输入的参数个数与sql语句参数个数不一致时会导致没设置参数的值变成null,因此需要使用动态方法</p></li></ul></li><li><strong>修改动态字段(不固定参数个数)</strong><ul><li><strong>于xml文件中的书写:</strong> &lt;if&gt;，用于判断参数是否有值,使用test属性进行条件判断,使用时配合&lt;set&gt;标签替换set,防止报错<br>eg：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">    &lt;update <span class="built_in">id</span>=<span class="string">&quot;update&quot;</span>&gt;</span><br><span class="line">    update studentsinformation</span><br><span class="line">    &lt;<span class="built_in">set</span>&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;name!=null and name!=&#x27;&#x27; &quot;</span>&gt;</span><br><span class="line">    name=<span class="comment">#&#123;name&#125;,</span></span><br><span class="line">    &lt;/if&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;sex!=null and sex!=&#x27;&#x27; &quot;</span>&gt;</span><br><span class="line">    sex=<span class="comment">#&#123;sex&#125;,</span></span><br><span class="line">    &lt;/if&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;birth!=null and birth!=&#x27;&#x27; &quot;</span>&gt;</span><br><span class="line">    birth=<span class="comment">#&#123;birth&#125;,</span></span><br><span class="line">    &lt;/if&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;score!=null&quot;</span>&gt;</span><br><span class="line">    score=<span class="comment">#&#123;score&#125;,</span></span><br><span class="line">    &lt;/if&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;email!=null and email!=&#x27;&#x27; &quot;</span>&gt;</span><br><span class="line">    email=<span class="comment">#&#123;email&#125;,</span></span><br><span class="line">    &lt;/if&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;phone!=null and phone!=&#x27;&#x27; &quot;</span>&gt;</span><br><span class="line">    phone=<span class="comment">#&#123;phone&#125;,</span></span><br><span class="line">    &lt;/if&gt;</span><br><span class="line">    &lt;<span class="keyword">if</span> <span class="built_in">test</span>=<span class="string">&quot;statement!=null&quot;</span>&gt;</span><br><span class="line">    statement=<span class="comment">#&#123;statement&#125;</span></span><br><span class="line">    &lt;/if&gt;</span><br><span class="line">    &lt;/set&gt;</span><br><span class="line">    <span class="built_in">where</span> nums=<span class="comment">#&#123;nums&#125;;</span></span><br><span class="line">&lt;/update&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><ul><li><p><strong>删除一个</strong></p><ul><li><strong>于mapper接口:</strong> void返回,参数值为用户id,修改成功与否于测试类中用异常判断,语句写完后需执行sqlSession.commit()提交,因为mybatis默认关闭了事务自动提交,需手动提交,否则会回滚事务</li><li><strong>于xml文件中书写:</strong><br>eg: <figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">delete</span> id=<span class="string">&quot;deleteById&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">from</span> studentsinformation where nums =<span class="comment">#&#123;nums&#125;;</span></span><br><span class="line">&lt;/<span class="keyword">delete</span>&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>批量删除(删除多个)</strong></p><ul><li><strong>于mapper接口:</strong> void返回，参数值为数组，并使用@Param注解,注解名与数组名相同(mybatis会把数组参数封装成一个Map集合，默认用array替换数组,因此需要用@Param注解改变Map集合的默认key名称)</li><li><strong>于xml文件中书写:</strong> 使用&lt;foreach&gt;标签,与 in() 关键字来完成数组遍历,其中&lt;foreach&gt;的参数含义: collection表示数组名,item表示数组每个元素含义, separator表示连接符<br>eg:<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">delete</span> id=&quot;deleteByIds&quot;&gt;</span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">from</span> studentsinformation <span class="keyword">where</span> nums <span class="keyword">in</span> (</span><br><span class="line">    &lt;<span class="keyword">foreach</span> collection=&quot;numss&quot; item=&quot;nums&quot; separator=&quot;,&quot;&gt;</span><br><span class="line">        #&#123;nums&#125;</span><br><span class="line">    &lt;/<span class="keyword">foreach</span>&gt;</span><br><span class="line">    );</span><br><span class="line">&lt;/<span class="keyword">delete</span>&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>JDBC的学习</title>
      <link href="/posts/1.html"/>
      <url>/posts/1.html</url>
      
        <content type="html"><![CDATA[<h2 id="JDBC的介绍"><a href="#JDBC的介绍" class="headerlink" title="- JDBC的介绍"></a>- JDBC的介绍</h2><p><strong>概念：</strong> JDBC就是使用java语言操作关系型数据库的一套API<br><strong>本质：</strong> </p><ul><li>官方(sun公司)定义的一套所有关系型数据库的规则，即接口</li><li>各个数据库厂商为实现这套接口提供数据库驱动jar包</li><li>使用JDBC编程时,真正执行的代码时驱动jar包中的实现类</li></ul><h2 id="JDBC的快速入门-基础步骤"><a href="#JDBC的快速入门-基础步骤" class="headerlink" title="- JDBC的快速入门(基础步骤)"></a>- JDBC的快速入门(基础步骤)</h2><p><strong>格式：</strong></p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.注册驱动</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Class</span>.</span></span><span class="keyword">for</span><span class="constructor">Name(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>)</span>;<span class="comment">//此处可省略</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.获取连接</span></span><br><span class="line">String url = <span class="string">&quot;jdbc:mysql://localhost:3306/dbl?useSSL=false&amp;useServerPrepstmts=true&quot;</span>;</span><br><span class="line">String username=<span class="string">&quot;root&quot;</span>;</span><br><span class="line">String password=<span class="string">&quot;1234&quot;</span>;</span><br><span class="line">Connection conn =<span class="module-access"><span class="module"><span class="identifier">DriverManager</span>.</span></span>get<span class="constructor">Connection(<span class="params">url</span>,<span class="params">username</span>,<span class="params">password</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.定义sql</span></span><br><span class="line">String sql=<span class="string">&quot;sql语句&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.执行sql的对象Statement</span></span><br><span class="line">Statement stat=conn.create<span class="constructor">Statement()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//5.执行sql并记录改变语句数目</span></span><br><span class="line"><span class="built_in">int</span> count =stat.execute<span class="constructor">Update(<span class="params">sql</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//6.处理结果</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="comment">//7.释放资源</span></span><br><span class="line">stat.close<span class="literal">()</span>;</span><br><span class="line">conn.close<span class="literal">()</span>;</span><br></pre></td></tr></table></figure><h2 id="JDBC-API详解"><a href="#JDBC-API详解" class="headerlink" title="- JDBC API详解"></a>- JDBC API详解</h2><h3 id="DriverManager-驱动管理类"><a href="#DriverManager-驱动管理类" class="headerlink" title="DriverManager(驱动管理类):"></a>DriverManager(驱动管理类):</h3><ol><li><strong>注册驱动</strong> <code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</code><ul><li>查看Driver类源码   <figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;  </span><br><span class="line">    <span class="keyword">try</span>&#123;  </span><br><span class="line">        DriverManager.  registerDriver(<span class="keyword">new</span> <span class="type">Driver</span>());</span><br><span class="line">    &#125; <span class="keyword">catch</span>(SQLException var1)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">RuntimeException</span>(<span class="string">&quot;Can&#x27;t register driver!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><strong>获取连接</strong> <code>Connection conn =DriverManager.getConnection(url,username,password);</code></li></ol><h3 id="Connection-数据库连接对象"><a href="#Connection-数据库连接对象" class="headerlink" title="Connection(数据库连接对象):"></a>Connection(数据库连接对象):</h3><ol><li><p><strong>获取执行SQL的对象</strong></p><ul><li>普通执行SQL对象 <code> conn.createStatement()</code></li><li>预编译SQL的执行SQL对象：防止SQL注入 <code> conn.prepareStatement(sql)</code></li><li>执行存储过程的对象(不常使用) <code> conn.prepareCall(sql)</code></li></ul></li><li><p><strong>事务管理</strong></p><ul><li>MySql事务管理(MySQL默认自动提交事务) <figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">开启事务: <span class="keyword">begin</span>;/<span class="keyword">start</span> <span class="keyword">transaction</span></span><br><span class="line">提交事务: <span class="keyword">commit</span>;</span><br><span class="line">回滚事务: <span class="keyword">rollback</span>;</span><br></pre></td></tr></table></figure></li><li>JDBC事务管理(配合try-catch块使用，于try块中发现异常，抛出给catch块回滚)：Connection接口定义了3个对应方法 <figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">开启事务: conn.setAutoCommit(<span class="type">boolean</span> autoCommit)<span class="keyword">true</span>为自动提交事务,<span class="keyword">false</span>为手动提交，即开启事务</span><br><span class="line">提交事务: conn.<span class="keyword">commit</span>()</span><br><span class="line">回滚事务: conn.<span class="keyword">rollback</span>() </span><br></pre></td></tr></table></figure></li></ul></li></ol><h3 id="Statement"><a href="#Statement" class="headerlink" title="Statement:"></a>Statement:</h3><ul><li><strong>执行SQL语句</strong><ul><li><p>执行DML、DDL语句，返回值为int型<br>  <code> stat.executeUpdate(sql)</code><br>  (1)执行DML语句时返回受影响行数，用if判断执行是否成功<br>  (2)执行DDL语句时返回结果不确定，建议用try-catch来判断是否返回成功</p></li><li><p>执行DQL语句，返回值为ResultSet结果集对象<br>  <code> stat.executeQuery(sql)</code></p></li></ul></li></ul><h3 id="ResultSet-结果集对象"><a href="#ResultSet-结果集对象" class="headerlink" title="ResultSet(结果集对象):"></a>ResultSet(结果集对象):</h3><ul><li><strong>获取查询结果</strong><ul><li><code>next(); </code><br>  作用：(1)将游标从当前位置移动至下一行位置(初始位置为表头，向下移动) (2)判断当前行是否为有效行<br>  返回值：boolean型, true代表当前行为有效行，存在数据，反之。</li><li><code>getXxx(参数);</code><br>  作用：获取数据,Xxx表示数据类型<br>  返回值：xxx; int型时代表列的编号，从1开始; String型代表列名…</li></ul></li><li><strong>使用步骤</strong><ol><li>游标向下移动一行，判断该行是否有数据</li><li>获取数据<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span>判断游标是否是最后一行末尾</span><br><span class="line"><span class="keyword">while</span>(rs.<span class="keyword">next</span>())&#123;</span><br><span class="line">    <span class="regexp">//</span>获取数据</span><br><span class="line">    rs.getXxx(参数);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li></ol></li></ul><h3 id="PreparedStatement"><a href="#PreparedStatement" class="headerlink" title="PreparedStatement"></a>PreparedStatement</h3><ul><li><strong>预编译SQL与防SQL注入并执行SQL语句</strong> <ul><li><strong>防SQL注入原理：</strong> 将’等敏感字符转义，阻止其与sql语句连接</li><li><strong>预编译的好处及开启方法：</strong> 预编译SQL使性能更高，且编译一次后多次使用sql语句不需要再编译; 使用前于url处添加useServerPrepStmts&#x3D;true参数</li><li><strong>使用步骤：</strong> <ol><li>获取PreparedStatement对象 <figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//<span class="keyword">SQL</span>语句中的参数值用？占位符代替</span><br><span class="line">String <span class="keyword">sql</span>=&quot;select * from user where username=? and password=?&quot;;</span><br><span class="line">//通过<span class="keyword">Connection</span>对象获取，并传入相应<span class="keyword">SQL</span>语句</span><br><span class="line">PreparedStatement pstmt=conn.prepareStatement(<span class="keyword">sql</span>);</span><br></pre></td></tr></table></figure></li><li>设置参数值 <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span>给？问号赋值，参数为第n个？的位置，从<span class="number">1</span>开始编号</span><br><span class="line">pstmt.setXxx(参数<span class="number">1</span>，参数<span class="number">2</span>) </span><br></pre></td></tr></table></figure></li><li>执行SQL<br> <code>pstmt.executeUpdate();/pstmt.executeQuery(); </code></li></ol></li></ul></li></ul><p>##数据库连接池<br><strong>概念：</strong> 连接池是一个容器，负责分配、管理数据库连接(Connection)<br><strong>好处：</strong> 资源重用; 提升系统响应速度; 避免数据库连接遗漏<br><strong>使用：</strong> 使用德鲁伊(Druid)连接池         </p><h2 id="JDBC使用步骤-较入门步骤详细"><a href="#JDBC使用步骤-较入门步骤详细" class="headerlink" title="- JDBC使用步骤(较入门步骤详细)"></a>- JDBC使用步骤(较入门步骤详细)</h2><p><strong>步骤：</strong></p><ul><li>获取Connection (固定填写)</li><li>定义SQL</li><li>获取PreparedStatement对象 (固定填写)</li><li>设置参数 (根据SQL语句判断存在填写占位符? 存在则填写)</li><li>执行SQL</li><li>处理结果(根据实际填写具体措施)</li><li>释放资源</li></ul><p>eg:查询学生表中所有学生数据：</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.获取连接</span></span><br><span class="line">Properties prop = <span class="keyword">new</span> <span class="constructor">Properties()</span>;</span><br><span class="line">prop.load(<span class="keyword">new</span> <span class="constructor">FileInputStream(<span class="string">&quot;jdbc-demo/src/druid.properties&quot;</span>)</span>);</span><br><span class="line">DataSource dataSource =<span class="module-access"><span class="module"><span class="identifier">DruidDataSourceFactory</span>.</span></span>create<span class="constructor">DataSource(<span class="params">prop</span>)</span>;</span><br><span class="line">Connection conn=dataSource.get<span class="constructor">Connection()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.定义sql</span></span><br><span class="line">String sql=<span class="string">&quot;select * from studentsinformation&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.获取pstmt对象</span></span><br><span class="line"> PreparedStatement pstmt=conn.prepare<span class="constructor">Statement(<span class="params">sql</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.设置参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.执行sql</span></span><br><span class="line">ResultSet rs=pstmt.execute<span class="constructor">Query()</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//6.处理结果</span></span><br><span class="line">    <span class="comment">//创建集合和类的对象</span></span><br><span class="line">    List&lt;studentsInformation&gt; sis=<span class="keyword">new</span> ArrayList&lt;&gt;<span class="literal">()</span>;</span><br><span class="line">    studentsInformation si=null;</span><br><span class="line">    <span class="keyword">while</span>(rs.next<span class="literal">()</span>)&#123;</span><br><span class="line">        <span class="comment">//获取数据</span></span><br><span class="line">        <span class="built_in">int</span> nums = rs.get<span class="constructor">Int(<span class="string">&quot;nums&quot;</span>)</span>;</span><br><span class="line">        String name = rs.get<span class="constructor">String(<span class="string">&quot;name&quot;</span>)</span>;</span><br><span class="line">        String sex = rs.get<span class="constructor">String(<span class="string">&quot;sex&quot;</span>)</span>;</span><br><span class="line">        String birth = rs.get<span class="constructor">String(<span class="string">&quot;birth&quot;</span>)</span>;</span><br><span class="line">        double score=rs.get<span class="constructor">Double(<span class="string">&quot;score&quot;</span>)</span>;</span><br><span class="line">        String email=rs.get<span class="constructor">String(<span class="string">&quot;email&quot;</span>)</span>;</span><br><span class="line">        String phone=rs.get<span class="constructor">String(<span class="string">&quot;phone&quot;</span>)</span>;</span><br><span class="line">        <span class="built_in">int</span> statement=rs.get<span class="constructor">Int(<span class="string">&quot;statement&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//封装对象</span></span><br><span class="line">        si=<span class="keyword">new</span> students<span class="constructor">Information()</span>;</span><br><span class="line">        si.set<span class="constructor">Birth(<span class="params">birth</span>)</span>;</span><br><span class="line">        si.set<span class="constructor">Email(<span class="params">email</span>)</span>;</span><br><span class="line">        si.set<span class="constructor">Name(<span class="params">name</span>)</span>;</span><br><span class="line">        si.set<span class="constructor">Nums(<span class="params">nums</span>)</span>;</span><br><span class="line">        si.set<span class="constructor">Phone(<span class="params">phone</span>)</span>;</span><br><span class="line">        si.set<span class="constructor">Score(<span class="params">score</span>)</span>;</span><br><span class="line">        si.set<span class="constructor">Sex(<span class="params">sex</span>)</span>;</span><br><span class="line">        si.set<span class="constructor">Statement(<span class="params">statement</span>)</span>;</span><br><span class="line">        <span class="comment">//装载至集合</span></span><br><span class="line">        sis.add(si);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输出结果</span></span><br><span class="line">    <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(sis);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//7.释放资源</span></span><br><span class="line">rs.close<span class="literal">()</span>;;</span><br><span class="line">pstmt.close<span class="literal">()</span>;</span><br><span class="line">conn.close<span class="literal">()</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mysql的sql语法学习</title>
      <link href="/posts/0.html"/>
      <url>/posts/0.html</url>
      
        <content type="html"><![CDATA[<h2 id="数据库的增删改查"><a href="#数据库的增删改查" class="headerlink" title="- 数据库的增删改查"></a>- 数据库的增删改查</h2><p><strong>命令行打开mysql:</strong> mysql -uroot -p1234</p><p><strong>查询数据库：</strong> show databases;<br><strong>创建数据库：</strong> </p><ul><li>直接法：create database 库名;</li><li>间接法：create database if not exists;</li></ul><p><strong>删除数据库：</strong></p><ul><li>直接法：drop database 库名;</li><li>间接法：drop database if exists 库名;</li></ul><p><strong>使用数据库：</strong> use 库名<br><strong>查看当前所使用的数据库：</strong> select database();<br>##常用数据类型<br><strong>数值型：</strong> int,float,double <u>(用法：double(总长度(总长度为小数点前后总个数),小数点后保留位数),eg：double(5,2)表示整数范围取值0~100,小数点保留2位)</u><br><strong>日期和时间类型：</strong> date(日期值),time(时间值或持续时间),year(年份),datetime(年月日时分秒)<br><strong>字符串类型：</strong> char,varchar <u>用法：char()表示定长字符串,无论得到的字符串长度多少,都按括号内规定的空间存储,因此存储性能高,浪费空间(空间换时间);varchar()表示变长字符串,先计算得到的字符串长度,再根据这串长度分配空间存储,因此存储性能低,节约空间(时间换空间)</u></p><h2 id="DDL——操作表-要执行以下操作得先进入相关数据库中"><a href="#DDL——操作表-要执行以下操作得先进入相关数据库中" class="headerlink" title="- DDL——操作表(要执行以下操作得先进入相关数据库中"></a>- DDL——操作表(要执行以下操作得先进入相关数据库中</h2><p><strong>查询表：</strong> show tables;<br><strong>查询表的结构:</strong> desc 表名;<br><strong>创建表：</strong> </p><ul><li>create table 表名(<br>  字段1 数据类型1,<br>  字段2 数据类型2,<br>  ………<br>  字段n 数据类型n(此处无,)<br>  );</li></ul><p><strong>删除表：</strong> </p><ul><li>直接法：drop table 表名;</li><li>间接法：drop table if exists 表名;</li></ul><p><strong>修改表：</strong> </p><ol><li>修改表名：alter table 表名 rename to 新表名;</li><li>添加一列新数据：alter table 表名 add 列名 数据类型;</li><li>修改数据类型：alter table 表名 modify 列名 新数据类型;</li><li>修改列名和数据类型：alter table 表名 change 列名 新列名 新数据类型;</li><li>删除列：alter table 表名 drop 列名;</li></ol><h2 id="DML——操作数据"><a href="#DML——操作数据" class="headerlink" title="- DML——操作数据"></a>- DML——操作数据</h2><p><strong>查询所有数据：</strong> select * from 表名;<br><strong>添加：</strong> </p><ol><li>给指定的列添加数据：insert into 表名(列名1,列名2,……) values(值1,值2,……);</li><li>给全部列添加数据：insert into 表名 values(值1,值2,……);<em>注：不建议如此做,建议使用上面的方法,将所有列名打出来,这样更为直观</em></li><li>批量添加数据： insert into 表名(列名1,列名2,……) values(值1,值2,……),(值      1,值2,……);<br><em>注：即在values处按格式以此添加就好,中间用逗号隔开</em></li></ol><p><strong>修改表数据：</strong> update 表名 set 列名1&#x3D;值1,列名2&#x3D;值2,… where 条件(列名n&#x3D;值        n)<br><em>特别注意：一定要加上条件,不然会导致表中全部数据被修改,且该行为无法撤销！！！</em><br><strong>删除表数据：</strong> delete from 表名 where 条件<br><em>特别注意：一定要加上条件,不然会导致表中全部数据被修改,且该行为无法撤销！！！</em></p><h2 id="DQL——查询数据-的意思为全部-可放于列名处"><a href="#DQL——查询数据-的意思为全部-可放于列名处" class="headerlink" title="- DQL——查询数据(*的意思为全部,可放于列名处)"></a>- DQL——查询数据(*的意思为全部,可放于列名处)</h2><p><em>注:一下查询方法并非完全独立,可组合进行</em></p><p><strong>基础查询：</strong> select 列名1 ,列名2 from 表名;<br><code> eg: select name,math from students;</code></p><p><strong>去重查询：</strong> select distinct 列名1,列名2 from 表名;<br><code>eg:select distince name,id from students;</code><br><strong>加别名查询：</strong> select 列名1 as 注释,列名2 as 注释 from表名;<br><code> eg:select name as 小王 from students;</code></p><p><strong>条件查询(where)：</strong> select 列名1 from 表名 where 条件;<br><u>eg:查询名字中含有“花”的学员都有谁:</u> <code>select name from students like %花%;</code><br><em>(可选条件与java运算符一致,特别记忆：是NULL： is null;不是NULL： is not null;模糊查询：like(_下划线表示单个模糊字符,%百分号表示多个任意字符; 日期差值：datediff (日期1, 日期2) 得到的结果是日期1与日期2相差的天数)</em></p><p><strong>排序查询(order by)：</strong> select * from 表名 order by 列名1 排序方法,列名2 排序方法(asc为升序,desc为降序,默认升序);<br><u>eg:查询学生信息,按年龄升序排列:</u> <code>select * from students order by age asc;</code><br> <em>(若有多个排序要求,则先满足前面的,在执行后面的)</em></p><p><strong>聚合查询：</strong> select 聚合函数名(列名)from 表名;(聚合函数：统计数量：count;求最大值：max;求最小值：min;求和：sum;求平均值：avg;<em>特殊的：null值不参与所有聚合函数运算;count配套的列名一般直接用</em>)*<br><u>eg: 求全班数学成绩平均分:</u> <code> select avg(math) from students;</code></p><p><strong>分组查询(group by)：</strong> select 字段列(聚合函数,参与分组列) from 表名 【where 分组前的条件限定】group by 列名 【having 分组后的条件筛选】<br><u>eg:查询男女同学各自平均分和人数：</u> <code>select sex,avg(math),count(*) from students group by sex;</code><br><u>eg:查询男女同学各自平均分和人数,要求分数低于70分不参与分组,分组后人数需大于2：</u> <code>select sex,avg(math),count(*) from students where math&gt;70 group by sex having count(*)&gt;2;</code><br><em>特别注意：分组之后查询的字段为聚合函数和参与分组的列,查询其他的列无意义   执行顺序：where&gt;聚合函数&gt;having,即where是对分组前进行限定,不满足条件不参与分组,故where后不接聚合函数,having是对分组结果进行筛选,接聚合函数。</em></p><p><strong>分页查询(limit)：</strong> select 列名 from 表名 limit 起始索引(起始索引&#x3D;(查询页数-1)*每页显示条数)每页显示条数;<br><u>eg：每页显示10条数据,查询第一页数据：</u> <code> select * from students limit 0,10;</code></p><p><strong>笛卡尔积：</strong> 集合A有m个数据,集合B有n个数据,A,B集合所有组合情况称为笛卡尔积。</p><p><strong>多表查询(即在表名位置输入多个表)：</strong> </p><ol><li><strong>连接查询:</strong><ul><li><strong>内连接查询(相当于查询A,B集合的交集)：</strong><br> –隐式内连接：select 列名 from 表1,表2… where 条件;<br> –显示内连接：select 列名 from 表1 join 表2 on 条件</li><li><strong>外连接查询(相当于查询某表所有数据和交集部分数据):</strong><br> –左外连接： select 列名 from 表1 left join 表2 on 条件<br> –右外连接(本质上与左外连接没区别,推荐用左)：select 列名 from 表1 right join 表2 on 条件</li></ul></li><li><strong>子查询(嵌套查询)：</strong><ul><li><strong>单行单列：</strong> select 列名 from 表名 where 条件&gt;子查询(select 列名……)<br>  <u>eg：查询年龄比张三大的人信息：</u> <code>select * from emp where age&gt;(select age from emp where name =&#39;张三&#39;);</code></li><li><strong>多行多列(将经过筛选的表放入from后面的表中)：</strong> select 列名 from (子查询),表1 where 条件;</li></ul></li></ol><h2 id="约束—————"><a href="#约束—————" class="headerlink" title="- 约束—————"></a>- 约束—————</h2><p><strong>约束的概念：</strong> </p><ul><li>约束是作用于表中列上的规则,用于限制加入表的数据;</li><li>约束的存在保证了数据库中数据的正确性、有效性和完整性</li></ul><table><thead><tr><th align="left">约束名称</th><th align="center">描述</th><th align="right">关键字</th></tr></thead><tbody><tr><td align="left">非空约束</td><td align="center">保证列中所有数据不存在null值</td><td align="right">not null</td></tr><tr><td align="left">唯一约束</td><td align="center">保证列中所有数据不相同</td><td align="right">unique</td></tr><tr><td align="left">主键约束</td><td align="center">主键是一行数据的唯一标识,要求非空且唯一</td><td align="right">primary key</td></tr><tr><td align="left">检查约束(mysql不存在)</td><td align="center">保证列中的值满足某一条件</td><td align="right">check</td></tr><tr><td align="left">默认约束</td><td align="center">保存数据时,未指定的值采用默认值</td><td align="right">default</td></tr><tr><td align="left">外键约束</td><td align="center">外键使两个表的数据建立链接,保证数据的一致性与完整性</td><td align="right">foreign key</td></tr></tbody></table><p><strong>非空,唯一,主键,默认约束的例子：</strong><br>创建员工表：(多个约束条件平行存在,不需要连接符连接)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,<span class="comment">--员工id,主键且自增长</span></span><br><span class="line">ename <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>, <span class="comment">--员工姓名,非空且唯一</span></span><br><span class="line">joindate <span class="type">date</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="comment">--入职日期,非空</span></span><br><span class="line">salary <span class="keyword">double</span>(<span class="number">7</span>,<span class="number">2</span>) <span class="keyword">not</span> <span class="keyword">null</span>,<span class="comment">--工资,非空</span></span><br><span class="line">bonus <span class="keyword">double</span> (<span class="number">7</span>,<span class="number">2</span>) <span class="keyword">default</span> <span class="number">0</span> <span class="comment">--奖金,如果没有默认为0</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><strong>自增长：</strong> auto_increment 当列为数字类型并且被唯一与非空约束所修饰可使用,一般与主键配合使用<br><strong>外键约束(将从表中某一列名与主表某一列名关联,形成物理上的关系)：</strong> </p><ul><li><strong>添加外键：</strong> <ul><li>创建表的时候添加外键约束：于表最后一行添加逗号“,” constraint  外键名(fk_从表名_主表名) foreign key(从表列名) references 主表表名(主表列名)</li><li>建完表后添加外键约束：alter table 表名 add constraint fk_从表名_主表名 foreign key(从表列名) references 主表表名(主表列名);<br><u>eg:将员工表emp中的部门(列名：dep_id)与部门表dept的部门(列名：id)进行外键约束：</u > <code>constraint fk_emp_dept foreign key(dep_id)references dept(id)</code></li></ul></li><li><strong>删除外键：</strong> alter table 从表表名 drop foreign key fk_从表名_主表名;</li></ul><h2 id="事务————"><a href="#事务————" class="headerlink" title="- 事务————"></a>- 事务————</h2><p><strong>事务简介：</strong> </p><ul><li>数据库的事务是一种机制、一个操作序列,包含了一组数据库操作命令</li><li>事务把所有的命令作为一个<strong>整体</strong>向系统提交或撤销操作请求,即这一组数据库命令要么同时成功,要么同时失败</li><li>事务是一个不可分割的工作逻辑单元</li></ul><p><strong>开启事务：</strong> begin;<br><strong>提交事务：</strong> commit;<br><strong>回滚事务(回到开启事务时的数据)：</strong> rollback;</p><p><strong>事务的四大特征(ACID)：</strong></p><ul><li><strong>原子性(Atomicity) ：</strong> 事务是不可分割的最小操作单位,要么同时成功,要么同时失败</li><li><strong>一致性(Consistency)：</strong> 事务完成时,必须使所有的数据都保持一致状态</li><li><strong>隔离性(Isolation)：</strong> 多个事务之间,操作的可见性</li><li><strong>持久性(Durability)：</strong> 事务一旦提交或回滚,它对数据库中的数据的改变就是永久的</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/4a17b156.html"/>
      <url>/posts/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
